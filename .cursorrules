# ðŸŒŒ COSMIC DRIFT â€“ Cursor Guidelines

## ðŸŽ¯ Purpose
Prototype a **neon, cinematic space-racing game** in **TypeScript + Three.js**.  
The world should feel fast, smooth, and visually polished â€” like *Need for Speed Underground* in space.

---

## ðŸ§© Tech & Structure
- Language: **TypeScript (strict)**, built with **Vite**.
- Core libs: `three`, `postprocessing`, `three-stdlib`, `stats.js`.
- Entry: `index.html` â†’ `src/main.ts` â†’ `src/core/Game.ts`.
- Systems live in `src/core/`: `Game`, `Track`, `Ship`, `Environment`, `Particles`, `AudioSystem`, `UI`, `constants`, `types`.
- UI: vanilla DOM only (no React or frameworks).

---

## ðŸªž Visual & Rendering Rules
1. **Always cinematic.** Use realistic lighting, tone mapping, and subtle bloom.  
2. **Renderer setup:** keep ACES tone mapping, sRGB color space, and soft shadows.  
3. **Lighting:** minimal (1â€“2 lights) + HDRI environment for depth.  
4. **Post-FX:** include bloom, vignette, color grading, motion blur, and chromatic aberration â€” subtle and cohesive.  
5. **Materials:** use PBR or stylized shaders, no default grey.  
6. **Camera:** chase-cam feel; small shake, FOV expands on boost.  
7. **Particles:** lightweight, GPU-instanced; no per-frame allocations.

---

## âš™ï¸ Code & Performance
- Keep methods small and focused (`update`/`render` pattern).
- Reuse math objects (`Vector3`, `Matrix4`, etc.).
- Maintain constants in `constants.ts`; no inline â€œmagic numbers.â€
- Maintain a fixed timestep accumulator; cap steps per frame.
- Target 60 FPS and smooth motion â€” quality > quantity.

---

## ðŸŽ® Input & Gameplay
- Keyboard only (WASD + Boost).  
- Smooth damping, lerps, and momentum â€” never twitchy.  
- Camera should feel tethered and weighty, not locked.

---

## ðŸ§± Contribution Rules
- Prefer **small, self-contained diffs**.  
- Avoid new libraries unless essential.  
- Preserve existing file structure and formatting.  
- Refactors should keep behavior identical unless otherwise requested.

---

## ðŸ§ª Validation Checklist
Before committing or merging:
- [ ] Game boots with no console errors  
- [ ] Visuals feel smooth and cinematic  
- [ ] HUD/UI visible and working  
- [ ] Controls responsive  
- [ ] 60 FPS on mid hardware  

---

### âœ¨ Design Pillars
**Fast â€¢ Chill â€¢ Polished â€¢ Cinematic â€¢ Clean Code**
